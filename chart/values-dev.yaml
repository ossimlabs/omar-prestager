# Default values for chart.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# This chart is to be used for standalone deployment
# for development purposes.  AppName and any configMap
# should not have the same name as app already deployed
# in the same namespace by the 3pa parent chart.

replicas: 1

appName: omar-prestager-test

global:
  dockerRepository: nexus-docker-public-hosted.ossim.io
  imagePullSecret:
    registry: nexus-3pa-dev-docker-proxy.ossim.io
    username: radiantcibot
    password: lhLvXspFyX9wraf6jB1I
  hostname: omar-3pa-dev.ossim.io

  createIngress: true
  useTls: false
  useTLSClientAuth: false
  sslCertSecretName: null
  authSslCertSecretName: null

  createImagePullSecret: true
  useImagePullSecret: true

  createHpa: true
  createPVs: true #True to create the pvcs
  useSpringConfigServer: false

  # This is used in the helper to create the pvcs
  volumes:

    ossim-data:
      type: nfs
      nfsServer:  10.100.40.114
      nfsMountPoint: /ossim-data
      accessModes:
        - ReadWriteMany
      size: 500Gi
      mountPath: /ossim-data

    maxar-blacksky-data:
      type: nfs
      nfsServer: 10.70.40.254
      nfsMountPoint: /maxar-blacksky-data
      accessModes:
        - ReadWriteMany
      size: 500Gi
      mountPath: /maxar-blacksky-data

    maxar-skysat-data:
      type: nfs
      nfsServer: 10.70.40.254
      nfsMountPoint: /maxar-skysat-data
      accessModes:
        - ReadWriteMany
      size: 500Gi
      mountPath: /maxar-skysat-data


# These are used in the helper to create the pvcs, if no mounts are needed remove
volumeNames:
  - ossim-data
  - maxar-blacksky-data
  - maxar-skysat-data

# This is overwritten by skaffold, if override is specified
# in the skaffold.yaml
image:
  name: omar-prestager
  tag: 3pa-hotfix
  pullPolicy: Always

internalPort: 8080
externalPort: 8080

readinessProbe:
  path: /health
  port: 8080
  initialDelaySeconds: 5
  timeoutSeconds: 3
livenessProbe:
  path: /health
  port: 8080
  initialDelaySeconds: 5
  timeoutSeconds: 3
  failureThreshold: 10

resources:
  limits:
    cpu: 3000m
    memory: 2Gi
  requests:
    cpu: 1000m
    memory: 1Gi

# This information should be included in the parent chart in order to overwrite the values here
database:
  name: o2_omar_db
  host: gsp-dev-omar.cfussmnw2zzg.us-east-1.rds.amazonaws.com
  user: postgres
  password: vME7B9RWivNqBkgfz5N9
  port: 5432
